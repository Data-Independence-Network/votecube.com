<var
    style="
        background-color: #{getDimensionColor(dimension)};
        border-bottom-color: #{bottomBorderColor};
        border-top-color: #{topBorderColor};
        float: {float};
        margin: {margin};
    "
    on:click="fire('toggle')"
>
    {percentValue}%
</var>
<style>
    var {
        border-bottom: 4px solid;
        border-radius: 3px;
        border-top: 4px solid;
        color: black;
        display: block;
        font-size: 1.2em;
        font-style: normal;
        height: 50px;
        line-height: 46px;
        text-align: center;
        vertical-align: middle;
        width: 50px;
    }
</style>

<script>
import {getDimensionColor} from '../../../helpers/dimension'

export default {
    computed: {
        bottomBorderColor: ({delta, dimension, pollDimDir}) => borderColor(dimension, pollDimDir, -1),
        float: ({index, $verticalLayout}) => $verticalLayout && index == 0 ? 'right' : 'initial',
        margin: ({index, $verticalLayout}) => $verticalLayout && index == 1 ? 'auto' : 'initial',
        topBorderColor: ({delta, dimension, pollDimDir}) => borderColor(dimension, pollDimDir, 1),
        percentValue: ({delta, pollDimDir}) => pollDimDir ? pollDimDir.value : ''
    },
    helpers: {
        getDimensionColor
    }
}

function borderColor(
    dimension,
    pollDimDir,
    dir
) {
    if(!pollDimDir
    || pollDimDir.dir === dir) {
        return '000'
    }

    return getDimensionColor(dimension)
}

</script>