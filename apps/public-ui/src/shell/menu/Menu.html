<nav
  class:active="active"
  id="menu"
>
  <section
    class="pure-menu"
  >
    <a
      class="pure-menu-heading"
      href="#"
    >
      VOTECUBE
    </a>

    <ul class="pure-menu-list">
      {#each menuItems as menuItem, index}
        <MenuItem
            index="{index}"
            menuItem="{menuItem}"
            on:select="selectMenu(event)"
            selectedIndex="{selectedMenuIndex}"
        ></MenuItem>
      {/each}
    </ul>
  </section>
</nav>

<script>
import MenuItem from './MenuItem.html'

import * as routes from '../../routes'

export default {
    components: {
        MenuItem
    },
    data() {
        return {
            menuItems: [{
                    index: 0,
                    key: routes.CUBE,
                    name: 'Polls'
                }, {
                    index: 1,
                    key: routes.CREATE_POLL_NAME_LOC_DATE,
                    name: 'Create Poll',
                }, {
                    index: 2,
                    key: 'about',
                    name: 'About'
                }
            ],
            selectedMenuIndex: 0
        }
    },
    methods: {
        // clickMenuLink(event) {
            // if (DOM_API.e(menuElementIdSelector)
            //   .className
            //   .indexOf('active') !== -1) {
            //   this.toggleAll(event)
            // }
        // },
        selectMenu(menuItem) {
            this.set({selectedMenuIndex: menuItem.index})
            this.fire('selected', menuItem)
        }
    }
}
</script>