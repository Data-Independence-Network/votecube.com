<div
    class="{tuckedClass} pure-menu pure-menu-horizontal pure-menu-scrollable custom-menu custom-menu-bottom"
    id="tuckedMenu"
>
    <div
        class="custom-menu-screen"
    ></div>
    <ul
        class="pure-menu-list"
    >
{#if TopMenuComp}
        <svelte:component
            on:setViewType="setViewType(event)"
            this="{TopMenuComp}"
        />
{/if}
    </ul>
</div>

<style>
    ul {
        width: 100%;
        padding-right: 5px;
    }
</style>

<script>
import store from '../../store.js'
import * as routes from '../../routes'

export default {
    computed: {
        tuckedClass({$showMainMenu, $showTopMenu}) {
            return !$showMainMenu && $showTopMenu
                ? ''
                : 'custom-menu-tucked'
        },
        TopMenuComp({$currentPage}) {
            return routes.getTopMenuComponent()
        }
    },
    methods: {
      setViewType(
          view
          ) {
          this.store.set({
            showTopMenu: false
          })
          this.fire('setViewType', view)
      }
    },
    store: () => store
}
</script>